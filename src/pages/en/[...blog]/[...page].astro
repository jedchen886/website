---
import type { InferGetStaticPropsType, GetStaticPaths } from 'astro';

import Layout from '~/layouts/PageLayout.astro';
import BlogList from '~/components/blog/List.astro';
import Pagination from '~/components/blog/Pagination.astro';

import { blogListRobots, getStaticPathsBlogListEn } from '~/utils/blog';

export const prerender = true;

export const getStaticPaths = (async ({ paginate }) => {
  return await getStaticPathsBlogListEn({ paginate });
}) satisfies GetStaticPaths;

type Props = InferGetStaticPropsType<typeof getStaticPaths>;

const { page } = Astro.props as Props;
const currentPage = page.currentPage ?? 1;

const metadata = {
  title: `News Center${currentPage > 1 ? ` â€” Page ${currentPage}` : ''}`,
  robots: {
    index: blogListRobots?.index && currentPage === 1,
    follow: blogListRobots?.follow,
  },
  openGraph: {
    type: 'blog',
  },
};
---

<Layout metadata={metadata} defaultNavTheme="dark">
  <!-- Hero Section -->
  <section class="relative -mt-[76px] not-prose">
    <div class="relative w-full min-h-[50vh] bg-gradient-to-br from-slate-700 via-purple-600 to-emerald-600 overflow-hidden">
      <!-- News-themed large SVG illustration -->
      <div class="absolute inset-0 z-0 opacity-25">
        <svg class="w-full h-full" viewBox="0 0 1200 600" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
          <!-- Large newspaper/document - left side -->
          <g fill="none" stroke="#ffffff" stroke-width="2" transform="translate(50, 80)">
            <rect x="0" y="0" width="180" height="240" rx="8" opacity="0.6"/>
            <rect x="15" y="20" width="150" height="40" rx="4" fill="#ffffff" opacity="0.15"/>
            <line x1="20" y1="80" x2="160" y2="80" opacity="0.5"/>
            <line x1="20" y1="100" x2="140" y2="100" opacity="0.4"/>
            <line x1="20" y1="120" x2="155" y2="120" opacity="0.5"/>
            <line x1="20" y1="140" x2="120" y2="140" opacity="0.3"/>
            <rect x="20" y="160" width="60" height="60" rx="4" fill="#ffffff" opacity="0.1"/>
            <line x1="95" y1="170" x2="160" y2="170" opacity="0.4"/>
            <line x1="95" y1="190" x2="150" y2="190" opacity="0.3"/>
            <line x1="95" y1="210" x2="155" y2="210" opacity="0.4"/>
          </g>

          <!-- Large broadcast tower - center -->
          <g fill="none" stroke="#ffffff" stroke-width="2" transform="translate(500, 100)">
            <path d="M100 350 L60 150 L80 150 L100 50 L120 150 L140 150 L100 350" stroke-width="2.5" opacity="0.5"/>
            <circle cx="100" cy="30" r="20" opacity="0.6"/>
            <circle cx="100" cy="30" r="8" fill="#ffffff" opacity="0.3"/>
            <!-- Signal waves -->
            <path d="M50 80 Q30 30 50 -20" stroke-width="2" stroke-linecap="round" opacity="0.4"/>
            <path d="M30 100 Q0 30 30 -40" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
            <path d="M10 120 Q-30 30 10 -60" stroke-width="2" stroke-linecap="round" opacity="0.2"/>
            <path d="M150 80 Q170 30 150 -20" stroke-width="2" stroke-linecap="round" opacity="0.4"/>
            <path d="M170 100 Q200 30 170 -40" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
            <path d="M190 120 Q230 30 190 -60" stroke-width="2" stroke-linecap="round" opacity="0.2"/>
          </g>

          <!-- Large speech bubbles - right side -->
          <g fill="none" stroke="#ffffff" stroke-width="2" transform="translate(850, 60)">
            <path d="M0 80 Q0 0 80 0 L220 0 Q300 0 300 80 L300 140 Q300 220 220 220 L100 220 L60 280 L70 220 L80 220 Q0 220 0 140 Z" opacity="0.5"/>
            <line x1="40" y1="60" x2="260" y2="60" opacity="0.4"/>
            <line x1="40" y1="100" x2="240" y2="100" opacity="0.3"/>
            <line x1="40" y1="140" x2="200" y2="140" opacity="0.4"/>
            <line x1="40" y1="180" x2="180" y2="180" opacity="0.3"/>
          </g>

          <!-- Smaller speech bubble -->
          <g fill="none" stroke="#ffffff" stroke-width="2" transform="translate(920, 320)">
            <path d="M0 50 Q0 0 50 0 L150 0 Q200 0 200 50 L200 90 Q200 140 150 140 L70 140 L40 180 L50 140 L50 140 Q0 140 0 90 Z" opacity="0.4"/>
            <line x1="25" y1="40" x2="175" y2="40" opacity="0.3"/>
            <line x1="25" y1="70" x2="160" y2="70" opacity="0.25"/>
            <line x1="25" y1="100" x2="140" y2="100" opacity="0.3"/>
          </g>

          <!-- Calendar icon - bottom left -->
          <g fill="none" stroke="#ffffff" stroke-width="2" transform="translate(280, 350)">
            <rect x="0" y="20" width="140" height="120" rx="8" opacity="0.5"/>
            <rect x="0" y="20" width="140" height="35" rx="8" fill="#ffffff" opacity="0.15"/>
            <line x1="35" y1="0" x2="35" y2="35" stroke-width="3" stroke-linecap="round" opacity="0.5"/>
            <line x1="105" y1="0" x2="105" y2="35" stroke-width="3" stroke-linecap="round" opacity="0.5"/>
            <circle cx="35" cy="85" r="12" fill="#ffffff" opacity="0.2"/>
            <circle cx="70" cy="85" r="12" opacity="0.3"/>
            <circle cx="105" cy="85" r="12" opacity="0.3"/>
            <circle cx="35" cy="120" r="12" opacity="0.3"/>
            <circle cx="70" cy="120" r="12" fill="#ffffff" opacity="0.2"/>
          </g>

          <!-- Floating document - top right -->
          <g fill="none" stroke="#ffffff" stroke-width="1.5" transform="translate(750, 380)">
            <rect x="0" y="0" width="100" height="130" rx="6" opacity="0.4"/>
            <line x1="15" y1="25" x2="85" y2="25" opacity="0.3"/>
            <line x1="15" y1="45" x2="75" y2="45" opacity="0.25"/>
            <line x1="15" y1="65" x2="80" y2="65" opacity="0.3"/>
            <line x1="15" y1="85" x2="60" y2="85" opacity="0.25"/>
            <rect x="15" y="95" width="30" height="25" rx="3" fill="#ffffff" opacity="0.1"/>
          </g>

          <!-- Decorative circles -->
          <circle cx="200" cy="450" r="30" fill="#ffffff" opacity="0.08"/>
          <circle cx="650" cy="520" r="45" fill="#ffffff" opacity="0.06"/>
          <circle cx="1100" cy="150" r="25" fill="#ffffff" opacity="0.08"/>
          <circle cx="450" cy="50" r="20" fill="#ffffff" opacity="0.06"/>
        </svg>
      </div>

      <!-- Gradient overlays -->
      <div class="absolute inset-0 z-[1] bg-gradient-to-r from-purple-600/20 via-transparent to-emerald-500/20"></div>
      <div class="absolute inset-0 z-[1] bg-gradient-to-t from-slate-900/50 via-transparent to-transparent"></div>

      <!-- Floating decorative elements -->
      <div class="absolute top-1/4 left-10 w-20 h-20 rounded-full bg-gradient-to-br from-purple-500/30 to-emerald-500/20 blur-2xl z-[1]"></div>
      <div class="absolute bottom-1/3 right-16 w-32 h-32 rounded-full bg-gradient-to-br from-emerald-500/25 to-purple-500/15 blur-3xl z-[1]"></div>

      <div class="absolute inset-0 z-[2] flex flex-col items-center justify-center pt-20">
        <div class="text-center px-4">
          <h1 class="text-white text-5xl md:text-6xl lg:text-7xl tracking-tight font-bold mb-6">News Center</h1>
          <p class="text-xl md:text-2xl text-white/80 max-w-3xl mx-auto">Latest news and updates from ADORA Robotics</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Blog List Section -->
  <section class="py-16 md:py-24 news-list-gradient">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <BlogList posts={page.data} />
      <Pagination prevUrl={page.url.prev} nextUrl={page.url.next} />
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section-gradient py-16 md:py-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">Discover More ADORA Products</h2>
      <p class="text-lg text-white/90 mb-8 max-w-2xl mx-auto">
        Explore our robot product line and find the solution that fits your needs
      </p>
      <a href="/en/#products" class="cta-btn-gradient">
        <span>View Products</span>
      </a>
    </div>
  </section>
</Layout>
